--
-- FN_BBS_CMT_CNT  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_BBS_CMT_CNT (
    P_BBS_CD IN CO_BBS.BBS_CD%TYPE,
    P_BBS_SEQ IN CO_BBS.BBS_SEQ%TYPE
)
RETURN NUMBER IS
V_RETURN NUMBER;

BEGIN
   V_RETURN := 0;
   SELECT COUNT(CMT_SEQ) INTO V_RETURN
     FROM CO_BBS_COMMENT
    WHERE BBS_CD = P_BBS_CD
      AND BBS_SEQ = P_BBS_SEQ;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_BBS_CMT_CNT;
/

--
-- FN_BBS_CTG_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_BBS_CTG_NM (
    P_BBS_CD IN CO_BBS_CONF.BBS_CD%TYPE,
    P_CTG_CD IN CO_BBS_CTG.CTG_CD%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_BBS_CTG.CTG_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT CTG_NM INTO V_RETURN
     FROM CO_BBS_CTG
    WHERE BBS_CD = P_BBS_CD
      AND CTG_CD = P_CTG_CD;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_BBS_CTG_NM;
/

--
-- FN_BRANCH_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_BRANCH_NM (
    P_BRANCH_CD IN CO_DEPT.BRANCH_CD%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_DEPT.DEPT_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT DEPT_NM INTO V_RETURN
     FROM CO_DEPT
    WHERE BRANCH_CD = P_BRANCH_CD; 
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_BRANCH_NM;
/

--
-- FN_DEPT_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_DEPT_NM (
    P_DEPT_CD IN CO_DEPT.DEPT_CD%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_DEPT.DEPT_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT DEPT_NM INTO V_RETURN
     FROM CO_DEPT
    WHERE DEPT_CD = P_DEPT_CD; 
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_DEPT_NM;
/

--
-- FN_DEPT_NM_BY_MGR  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_DEPT_NM_BY_MGR (
    P_MGR_ID IN CO_MGR.MGR_ID%TYPE
)
RETURN VARCHAR IS V_RETURN VARCHAR2(100);

BEGIN
   V_RETURN := '';
   SELECT A.DEPT_NM INTO V_RETURN
     FROM CO_DEPT A, CO_MGR B 
    WHERE A.DEPT_CD = B.DEPT_CD
      AND B.MGR_ID  = P_MGR_ID;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_DEPT_NM_BY_MGR;
/

--
-- FN_FAQ_CTG_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_FAQ_CTG_NM (
    P_CTG_CD IN CO_FAQ.CTG_CD%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_FAQ_CTG.CTG_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT CTG_NM INTO V_RETURN
     FROM CO_FAQ_CTG
    WHERE CTG_CD = P_CTG_CD
      AND USE_YN = 'Y';
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_FAQ_CTG_NM;
/

--
-- FN_FILE_CNT  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_FILE_CNT (
    P_FILE_SEQ IN CO_FILE.FILE_SEQ%TYPE
)
RETURN NUMBER IS
V_RETURN NUMBER;

BEGIN
   V_RETURN := 0;
   SELECT COUNT(FILE_ID) INTO V_RETURN
     FROM CO_FILE
    WHERE FILE_SEQ = P_FILE_SEQ;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_FILE_CNT;
/

--
-- FN_MGR_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_MGR_NM (
    P_MGR_ID IN CO_MGR.MGR_ID%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_MGR.MGR_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT MGR_NM INTO V_RETURN
     FROM CO_MGR
    WHERE MGR_ID = P_MGR_ID;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_MGR_NM;
/

--
-- FN_PRV_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_PRV_NM (
    P_PRV_CD IN CO_CODE_PRV.PRV_CD%TYPE,
    P_GRP_CD IN CO_CODE_PRV.GRP_CD%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_CODE_PRV.PRV_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT PRV_NM INTO V_RETURN
     FROM CO_CODE_PRV
    WHERE GRP_CD = P_GRP_CD
      AND PRV_CD = P_PRV_CD;
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_PRV_NM;
/

--
-- FN_USER_NM  (Function) 
--
CREATE  OR REPLACE  FUNCTION FN_USER_NM (
    P_USER_KEY IN CO_USER.USER_KEY%TYPE
)
RETURN VARCHAR IS
V_RETURN CO_USER.USER_NM%TYPE;

BEGIN
   V_RETURN := '';
   SELECT USER_NM INTO V_RETURN
     FROM CO_USER
    WHERE USER_KEY = P_USER_KEY; 
                      
   RETURN V_RETURN;
   
   EXCEPTION
     WHEN NO_DATA_FOUND THEN
       RETURN V_RETURN;
     WHEN OTHERS THEN
       RETURN V_RETURN;
END FN_USER_NM;
/
